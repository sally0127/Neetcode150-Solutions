**Kth Largest Integer in a Stream**
-

ğŸ”— Link: Kth Largest Integer in a Stream

ğŸ’¡ Difficulty: Easy

ğŸ› ï¸ Topics: æœ€å°å †ï¼ˆMin-Heapï¼‰ã€å‹•æ…‹æ•¸æ“šæµã€æ’å…¥å’Œåˆªé™¤æ“ä½œ

==================================================

Design a class to find the kth largest integer in a stream of values, including duplicates. E.g. the 2nd largest from [1, 2, 3, 3] is 3. The stream is not necessarily sorted.

Implement the following methods:

    ï¼constructor(int k, int[] nums) Initializes the object given an integer k and the stream of integers nums.
    
    ï¼int add(int val) Adds the integer val to the stream and returns the kth largest integer in the stream.

Example 1:

Input:
["KthLargest", [3, [1, 2, 3, 3]], "add", [3], "add", [5], "add", [6], "add", [7], "add", [8]]

Output:
[null, 3, 3, 3, 5, 6]

Explanation:

KthLargest kthLargest = new KthLargest(3, [1, 2, 3, 3]);

kthLargest.add(3);   // return 3

kthLargest.add(5);   // return 3

kthLargest.add(6);   // return 3

kthLargest.add(7);   // return 5

kthLargest.add(8);   // return 6

Constraints:

ï¼1 <= k <= 1000

ï¼0 <= nums.length <= 1000

ï¼-1000 <= nums[i] <= 1000

ï¼-1000 <= val <= 1000

ï¼There will always be at least k integers in the stream when you search for the kth integer.

=================================================

**UMPIRE Method**

**Understand**

æˆ‘å€‘éœ€è¦è¨­è¨ˆä¸€å€‹é¡åˆ¥ä¾†è™•ç†å‹•æ…‹æ•¸æ“šæµã€‚é€™å€‹é¡åˆ¥çš„ä¸»è¦åŠŸèƒ½æ˜¯ï¼š

    1.åˆå§‹åŒ–ï¼šæ¥å—ä¸€å€‹æ•´æ•¸ k å’Œä¸€å€‹åˆå§‹çš„æ•´æ•¸æµé™£åˆ— numsï¼Œä¸¦æ‰¾åˆ°ç•¶å‰æ•¸æ“šæµä¸­çš„ç¬¬ k å¤§å…ƒç´ ã€‚
    
    2.æ·»åŠ å…ƒç´ ï¼šåœ¨æ•¸æ“šæµä¸­æ·»åŠ ä¸€å€‹æ•´æ•¸ valï¼Œä¸¦è¿”å›æ­¤æ™‚æ•¸æ“šæµä¸­çš„ç¬¬ k å¤§å…ƒç´ ã€‚

ç¯„ä¾‹ï¼š å‡è¨­ k=2ï¼Œåˆå§‹é™£åˆ— nums = [1, 2, 3, 3]ï¼Œæˆ‘å€‘å¸Œæœ›ï¼š

    ï¼åˆå§‹åŒ–æ™‚ï¼Œæ‰¾åˆ°é™£åˆ—ä¸­ç¬¬ 2 å¤§çš„å…ƒç´ ï¼Œé€™è£¡æ˜¯ 3ã€‚
    
    ï¼èª¿ç”¨ add(4) å¾Œï¼Œè¿”å›çš„ç¬¬ 2 å¤§å…ƒç´ ç‚º 3ã€‚

æ³¨æ„ï¼šæ•¸æ“šæµä¸ä¸€å®šæ˜¯æ’åºçš„ï¼Œä¸”å¯èƒ½åŒ…å«é‡è¤‡å€¼ã€‚

**Match**

é€™æ˜¯ä¸€å€‹å…¸å‹çš„ å³æ™‚æ’åº å•é¡Œï¼Œå› ç‚ºæˆ‘å€‘éœ€è¦åœ¨æ¯æ¬¡æ·»åŠ æ–°å…ƒç´ æ™‚ï¼Œå¿«é€Ÿæ‰¾åˆ°ç¬¬ k å¤§çš„å…ƒç´ ã€‚

é©ç”¨çš„è³‡æ–™çµæ§‹å’Œæ¼”ç®—æ³•ï¼š

    1.æœ€å°å †ï¼ˆMin-Heapï¼‰ï¼šæˆ‘å€‘å¯ä»¥åˆ©ç”¨ä¸€å€‹å¤§å°ç‚º k çš„æœ€å°å †ä¾†è¿½è¹¤æ•¸æ“šæµä¸­çš„ç¬¬ k å¤§å…ƒç´ ã€‚å †ä¸­ä¿å­˜ç¬¬ k å¤§çš„å…ƒç´ å’Œæ¯”å®ƒæ›´å¤§çš„å…ƒç´ ã€‚ç•¶æ·»åŠ æ–°å…ƒç´ æ™‚ï¼Œåªéœ€åˆ¤æ–·æ˜¯å¦éœ€è¦å°‡å †ä¸­çš„æœ€å°å…ƒç´ æ›¿æ›æ‰ï¼Œå¾è€Œä¿æŒå †çš„å¤§å°ç‚º kã€‚
    
    2.å„ªå…ˆä½‡åˆ—ï¼šä½¿ç”¨ Python çš„ heapq åº«å¯¦ç¾æœ€å°å †ï¼Œå¯ä»¥æœ‰æ•ˆåœ°å®Œæˆé€™å€‹ä»»å‹™ã€‚

**Plan**

1.åˆå§‹åŒ–ï¼š

    ï¼å°‡é™£åˆ— nums ä¸­çš„å‰ k å€‹å…ƒç´ æ’å…¥åˆ°æœ€å°å †ä¸­ã€‚
    
    ï¼å¦‚æœ nums çš„å…ƒç´ å¤šæ–¼ k å€‹ï¼Œéæ­·å‰©ä¸‹çš„å…ƒç´ ï¼Œå°æ–¼æ¯ä¸€å€‹å…ƒç´ ï¼Œè‹¥å…¶å¤§æ–¼æœ€å°å †çš„æœ€å°å…ƒç´ ï¼Œå‰‡æ›¿æ›æ‰æœ€å°å…ƒç´ ä»¥ä¿æŒç¬¬ k å¤§çš„å€¼åœ¨å †é ‚ã€‚

2.æ·»åŠ æ–°å…ƒç´ ï¼š

    ï¼å°‡æ–°å…ƒç´  val èˆ‡æœ€å°å †çš„å †é ‚å…ƒç´ æ¯”è¼ƒã€‚
    
    ï¼è‹¥ val å¤§æ–¼å †é ‚å…ƒç´ ï¼Œå‰‡ç”¨ val æ›¿æ›å †é ‚ï¼Œä¸¦é‡æ–°èª¿æ•´å †ã€‚
    
    ï¼æœ€å°å †çš„å †é ‚å³ç‚ºç¬¬ k å¤§çš„å…ƒç´ ã€‚

**Implement**

see solution.py

**Review**

è®“æˆ‘å€‘æª¢æŸ¥ä»£ç¢¼çš„æ­£ç¢ºæ€§ï¼š

1.æ­£ç¢ºæ€§ï¼š

    ï¼åˆå§‹åŒ–æ™‚ï¼Œé€é add æ–¹æ³•å°‡ nums ä¸­çš„å…ƒç´ é€ä¸€æ·»åŠ åˆ°æœ€å°å †ä¸­ï¼Œé€™æ¨£å¯ä»¥ä¿è­‰åœ¨åˆå§‹åŒ–å¾Œï¼Œå †çš„å¤§å°å§‹çµ‚ç‚º kï¼Œä¸”å †é ‚å§‹çµ‚ç‚ºç¬¬ k å¤§å…ƒç´ ã€‚
    
    ï¼add æ–¹æ³•æ ¹æ“šæ•¸æ“šæµçš„è®ŠåŒ–å‹•æ…‹èª¿æ•´æœ€å°å †ï¼Œä½¿å¾—å †é ‚ä¿æŒç‚ºç¬¬ k å¤§çš„å…ƒç´ ã€‚

**Evaluate**

æ™‚é–“è¤‡é›œåº¦ï¼š

    ï¼__init__ æ–¹æ³•çš„æ™‚é–“è¤‡é›œåº¦ç‚º O(nlogk)ï¼Œå› ç‚ºæˆ‘å€‘å°‡ n å€‹å…ƒç´ é€ä¸€æ’å…¥å¤§å°ç‚º k çš„å †ä¸­ã€‚
    
    ï¼add æ–¹æ³•çš„æ™‚é–“è¤‡é›œåº¦ç‚º (logk)ï¼Œå› ç‚ºæ’å…¥æ“ä½œæˆ–æ›¿æ›æ“ä½œçš„æ™‚é–“è¤‡é›œåº¦å–æ±ºæ–¼å †çš„å¤§å° kã€‚

ç©ºé–“è¤‡é›œåº¦ï¼š

    ï¼åªå­˜å„² k å€‹å…ƒç´ åœ¨æœ€å°å †ä¸­ï¼Œå› æ­¤ç©ºé–“è¤‡é›œåº¦ç‚º O(k)ã€‚

**è£œå……**

å †é ‚æ˜¯æŒ‡åœ¨å †ï¼ˆHeapï¼‰è³‡æ–™çµæ§‹ä¸­çš„æœ€ä¸Šé¢ä¸€å€‹å…ƒç´ ã€‚æ ¹æ“šå †çš„é¡å‹ï¼ˆæœ€å°å †æˆ–æœ€å¤§å †ï¼‰ï¼Œå †é ‚çš„å«ç¾©æœ‰æ‰€ä¸åŒï¼š

1. **æœ€å°å †ï¼ˆMin-Heapï¼‰**ï¼š

   - åœ¨æœ€å°å †ä¸­ï¼Œå †é ‚æ˜¯æ•´å€‹å †ä¸­æœ€å°çš„å…ƒç´ ã€‚é€™æ„å‘³è‘—æ¯æ¬¡å¾å †ä¸­åˆªé™¤å…ƒç´ æ™‚ï¼Œéƒ½æ˜¯åˆªé™¤æœ€å°çš„å…ƒç´ ã€‚

   - ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘å€‘æœ‰ä¸€å€‹æœ€å°å † `[2, 3, 5, 7, 10]`ï¼Œé‚£éº¼å †é ‚å°±æ˜¯ `2`ã€‚

2. **æœ€å¤§å †ï¼ˆMax-Heapï¼‰**ï¼š

   - åœ¨æœ€å¤§å †ä¸­ï¼Œå †é ‚æ˜¯æ•´å€‹å †ä¸­æœ€å¤§çš„å…ƒç´ ã€‚é€™æ„å‘³è‘—æ¯æ¬¡å¾å †ä¸­åˆªé™¤å…ƒç´ æ™‚ï¼Œéƒ½æ˜¯åˆªé™¤æœ€å¤§çš„å…ƒç´ ã€‚

   - ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘å€‘æœ‰ä¸€å€‹æœ€å¤§å † `[10, 7, 5, 3, 2]`ï¼Œé‚£éº¼å †é ‚å°±æ˜¯ `10`ã€‚

### å †çš„ç‰¹æ€§

- **å±¤ç´šçµæ§‹**ï¼šå †é€šå¸¸ä»¥äºŒå…ƒæ¨¹çš„å½¢å¼å¯¦ç¾ï¼Œçˆ¶ç¯€é»çš„å€¼ç¸½æ˜¯å°æ–¼ï¼ˆæˆ–å¤§æ–¼ï¼‰å…¶å­ç¯€é»çš„å€¼ã€‚
