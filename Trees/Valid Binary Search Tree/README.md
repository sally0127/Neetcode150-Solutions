**Valid Binary Search Tree**
-

ğŸ”— Link: Valid Binary Search Tree

ğŸ’¡ Difficulty: Medium

ğŸ› ï¸ Topics: éè¿´(DFS)ã€äºŒå…ƒæœå°‹æ¨¹ (BST) çš„ç‰¹æ€§

====================================================

Given the root of a binary tree, return true if it is a valid binary search tree, otherwise return false.

A valid binary search tree satisfies the following constraints:

    ï¼The left subtree of every node contains only nodes with keys less than the node's key.
    
    ï¼The right subtree of every node contains only nodes with keys greater than the node's key.
    
    ï¼Both the left and right subtrees are also binary search trees.

Example 1:

Input: root = [2,1,3]
Output: true

Example 2:

Input: root = [1,2,3]
Output: false

Explanation: The root node's value is 1 but its left child's value is 2 which is greater than 1.

Constraints:

ï¼1 <= The number of nodes in the tree <= 1000.

ï¼-1000 <= Node.val <= 1000

=================================================

**UMPIRE Method**

**Understand**

1.å•é¡Œç›®æ¨™ï¼šçµ¦å®šä¸€æ£µäºŒå…ƒæ¨¹ï¼Œåˆ¤æ–·é€™æ£µæ¨¹æ˜¯å¦ç‚ºæœ‰æ•ˆçš„äºŒå…ƒæœå°‹æ¨¹ã€‚

2.æœ‰æ•ˆçš„ BST æ¢ä»¶ï¼š

    ï¼å°æ–¼æ¯å€‹ç¯€é»ï¼Œå…¶å·¦å­æ¨¹çš„æ‰€æœ‰ç¯€é»å€¼å‡å°æ–¼è©²ç¯€é»å€¼ï¼Œå³å­æ¨¹çš„æ‰€æœ‰ç¯€é»å€¼å‡å¤§æ–¼è©²ç¯€é»å€¼ã€‚
    
    ï¼å·¦å­æ¨¹å’Œå³å­æ¨¹ä¹Ÿå¿…é ˆç¬¦åˆäºŒå…ƒæœå°‹æ¨¹çš„æ¢ä»¶ã€‚

3.è¼¸å‡ºï¼šè‹¥ç‚ºæœ‰æ•ˆçš„ BSTï¼Œå›å‚³ trueï¼›å¦å‰‡å›å‚³ falseã€‚

**Match**

1.ä½¿ç”¨ DFS æ·±å…¥æœå°‹å¯ä»¥æœ‰æ•ˆåœ°æª¢æŸ¥æ¯ä¸€å€‹å­æ¨¹æ˜¯å¦ç¬¦åˆ BST æ¢ä»¶ã€‚

2.åœ¨éè¿´éç¨‹ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä¸Šä¸‹ç•Œä¾†ç´„æŸæ¯å€‹ç¯€é»çš„å€¼ï¼Œå¾è€Œä¿è­‰ BST çš„æœ‰æ•ˆæ€§ã€‚

    ï¼ç•¶éè¿´åˆ°å·¦å­æ¨¹æ™‚ï¼Œè¨­ç½®å³é‚Šç•Œç‚ºç•¶å‰ç¯€é»çš„å€¼ã€‚
    
    ï¼ç•¶éè¿´åˆ°å³å­æ¨¹æ™‚ï¼Œè¨­ç½®å·¦é‚Šç•Œç‚ºç•¶å‰ç¯€é»çš„å€¼ã€‚

**Plan**

1.å»ºç«‹ä¸€å€‹éè¿´å‡½æ•¸ï¼Œè©²å‡½æ•¸æ¥æ”¶ç•¶å‰ç¯€é»å’Œå…è¨±çš„å€¼ç¯„åœï¼ˆmin_val å’Œ max_valï¼‰ã€‚

2.å¦‚æœç¯€é»ç‚ºç©ºï¼Œå‰‡ç›´æ¥å›å‚³ trueï¼Œè¡¨ç¤ºåˆ°é”è‘‰ç¯€é»ã€‚

3.å¦‚æœç¯€é»çš„å€¼ä¸åœ¨ min_val å’Œ max_val ç¯„åœå…§ï¼Œå‰‡å›å‚³ falseã€‚

4.éè¿´æª¢æŸ¥å·¦å­æ¨¹å’Œå³å­æ¨¹ï¼š

    ï¼å°å·¦å­æ¨¹ï¼Œè¨­ç½®ç•¶å‰ç¯€é»å€¼ç‚ºå³é‚Šç•Œï¼ˆmax_valï¼‰ã€‚
    
    ï¼å°å³å­æ¨¹ï¼Œè¨­ç½®ç•¶å‰ç¯€é»å€¼ç‚ºå·¦é‚Šç•Œï¼ˆmin_valï¼‰ã€‚

5.å¦‚æœå·¦å³å­æ¨¹å‡ç¬¦åˆæ¢ä»¶ï¼Œå‰‡è¿”å› trueï¼›å¦å‰‡è¿”å› falseã€‚

**Implement**

see solution.py

**Review**

1.æ­£ç¢ºæ€§æª¢æŸ¥ï¼š

    ï¼å·¦ã€å³å­æ¨¹çš„éè¿´ç¯„åœæ¢ä»¶è¨­ç½®æ­£ç¢ºï¼Œç¢ºä¿æ¯å€‹ç¯€é»éƒ½è¢«é™åˆ¶åœ¨æ­£ç¢ºçš„å€¼ç¯„åœå…§ã€‚
    
    ï¼min_val å’Œ max_val æº–ç¢ºåœ°åœ¨æ¯å€‹éè¿´å±¤æ¬¡ä¸­æ›´æ–°ã€‚

2.é‚Šç•Œæ¢ä»¶ï¼š

    ï¼ç©ºæ¨¹ï¼ˆroot == Noneï¼‰æ‡‰è©²è¿”å› trueï¼Œå› ç‚ºç©ºæ¨¹è¦–ç‚ºæœ‰æ•ˆ BSTã€‚
    
    ï¼å…·æœ‰å–®ä¸€ç¯€é»çš„æ¨¹ï¼Œæ‡‰è¿”å› trueã€‚
    
    ï¼æª¢æŸ¥åŒ…å«é‡è¤‡å€¼çš„æƒ…æ³ï¼Œä¾‹å¦‚ [2, 1, 2] æ‡‰è¿”å› falseã€‚

**Evaluate**

ï¼æ™‚é–“è¤‡é›œåº¦ç‚º O(n)ï¼Œå…¶ä¸­ n æ˜¯ç¯€é»æ•¸ï¼Œæ¯å€‹ç¯€é»è¢«è¨ªå•ä¸€æ¬¡ã€‚

ï¼ç©ºé–“è¤‡é›œåº¦ç‚º O(h)ï¼Œå…¶ä¸­ h æ˜¯æ¨¹çš„é«˜åº¦ï¼Œç”¨æ–¼éè¿´å †ç–Šã€‚

**è£œå……**

é€™é¡Œçš„ä¸»è¦æ¦‚å¿µæ˜¯**éè¿´**å’Œ**äºŒå…ƒæ¨¹çš„æ€§è³ª**ã€‚åœ¨æª¢æŸ¥æ˜¯å¦æ˜¯æœ‰æ•ˆçš„äºŒå…ƒæœå°‹æ¨¹ (BST) æ™‚ï¼Œéœ€è¦äº†è§£ä»¥ä¸‹å¹¾å€‹é—œéµæ¦‚å¿µï¼š

1. **äºŒå…ƒæœå°‹æ¨¹ (BST) çš„ç‰¹æ€§**ï¼š

   - æ¯å€‹ç¯€é»çš„å·¦å­æ¨¹çš„æ‰€æœ‰ç¯€é»å€¼å¿…é ˆå°æ–¼è©²ç¯€é»å€¼ã€‚

   - æ¯å€‹ç¯€é»çš„å³å­æ¨¹çš„æ‰€æœ‰ç¯€é»å€¼å¿…é ˆå¤§æ–¼è©²ç¯€é»å€¼ã€‚

   - é€™äº›æ¢ä»¶å¿…é ˆéè¿´åœ°é©ç”¨æ–¼æ¯å€‹ç¯€é»ã€‚

2. **éè¿´ç¯„åœé™åˆ¶**ï¼š

   - åœ¨æª¢æŸ¥æ¯å€‹ç¯€é»æ™‚ï¼Œæœƒéè¿´åœ°å‘ä¸‹æª¢æŸ¥å·¦ã€å³å­æ¨¹ï¼ŒåŒæ™‚ç‚ºå·¦å³å­æ¨¹è¨­ç½®ä¸€å€‹æœ‰æ•ˆçš„å€¼ç¯„åœã€‚

   - å·¦å­æ¨¹çš„ç¯€é»å€¼ç¯„åœæ˜¯ `(min_val, node.val)`ï¼Œè€Œå³å­æ¨¹çš„ç¯€é»å€¼ç¯„åœæ˜¯ `(node.val, max_val)`ï¼Œé€™æ¨£ç¢ºä¿å·¦å­æ¨¹å’Œå³å­æ¨¹çš„æ¯å€‹ç¯€é»éƒ½ç¬¦åˆ BST è¦å‰‡ã€‚

4. **éè¿´åœæ­¢æ¢ä»¶**ï¼š

   - ç•¶éè¿´åˆ°ç©ºç¯€é»æ™‚ï¼Œè¿”å› `True`ï¼Œè¡¨ç¤ºç©ºç¯€é»ç¬¦åˆ BST è¦å‰‡ã€‚

   - è‹¥ç™¼ç¾ç¯€é»å€¼ä¸åœ¨ç¯„åœ `(min_val, max_val)` å…§ï¼Œå‰‡è©²ç¯€é»ä¸ç¬¦åˆ BST è¦å‰‡ï¼Œè¿”å› `False`ã€‚

é€™äº›æ¦‚å¿µçµåˆèµ·ä¾†æ§‹æˆäº†**æ·±åº¦å„ªå…ˆæœç´¢ (DFS)** çš„æª¢æŸ¥æ–¹å¼ã€‚DFS æ–¹å¼æœ‰æ•ˆåœ°éæ­·æ¨¹ä¸­çš„æ¯å€‹ç¯€é»ï¼ŒåŒæ™‚ç¢ºä¿æ¯å€‹ç¯€é»éƒ½ç¬¦åˆ BST çš„å®šç¾©ï¼Œé€™æ¨£å¯ä»¥é€å±¤ç¢ºèªæ•´å€‹æ¨¹æ˜¯å¦æ˜¯ä¸€å€‹æœ‰æ•ˆçš„äºŒå…ƒæœå°‹æ¨¹ã€‚



